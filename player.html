<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Dashboard - Buzzer Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes quickFlash {
            0% { opacity: 0; transform: scale(0.2); }
            35% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 0; transform: scale(0.5); }
        }
        .sparkle {
            animation: quickFlash 0.25s ease-out;
            pointer-events: none;
        }
        .logo-preserve {
            object-fit: contain;
            width: auto;
            height: auto;
        }
        .buzzer-normal {
            transition: all 0.3s ease;
            transform: scale(1);
        }
        .buzzer-hover {
            transform: scale(0.95);
            filter: brightness(0.9);
        }
        .buzzer-away {
            transform: scale(1.05);
            filter: brightness(1.1);
        }
    </style>
</head>
<body style="background-color: #1e3a8a; margin: 0; font-family: system-ui;">

<div id="app" class="relative min-h-screen overflow-hidden">
    <!-- Sparkles Container -->
    <div id="sparkles"></div>
    
    <!-- Entry Screen -->
    <div id="entryScreen" class="min-h-screen flex flex-col items-center justify-center p-6">
        <!-- Logo -->
        <div class="mb-12 text-center">
            <img 
                src="./public/logo.png" 
                alt="Buzz Game Logo" 
                class="logo-preserve max-w-32 max-h-32 mx-auto mb-4 rounded-2xl shadow-2xl"
                onerror="this.style.display='none'"
            />
        </div>

        <!-- Game Code Entry -->
        <div class="w-full max-w-sm space-y-6">
            <input
                type="text"
                id="gameCodeInput"
                class="w-full h-16 text-center text-3xl font-bold bg-purple-600 text-white border-4 border-cyan-400 rounded-2xl shadow-2xl placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-cyan-400 transition-all"
                placeholder="Enter 6-digit game code"
                maxlength="6"
            />
            
            <button
                id="joinGameBtn"
                class="w-full h-16 text-2xl font-bold rounded-2xl border-4 border-yellow-400 shadow-2xl transition-all transform bg-gray-600 text-gray-300 cursor-not-allowed opacity-50"
                disabled
            >
                ‚≠êÔ∏è JOIN GAME ‚≠êÔ∏è
            </button>
        </div>
    </div>

    <!-- Team Setup Screen -->
    <div id="teamSetupScreen" class="min-h-screen flex-col items-center justify-center p-6" style="display: none;">
        <!-- Logo -->
        <div class="mb-8 text-center">
            <img 
                src="./public/logo.png" 
                alt="Buzz Game Logo" 
                class="logo-preserve max-w-24 max-h-24 mx-auto mb-2 rounded-xl shadow-xl"
                onerror="this.style.display='none'"
            />
        </div>

        <!-- Team Name Entry -->
        <div class="w-full max-w-sm space-y-6">
            <input
                type="text"
                id="teamNameInput"
                class="w-full h-16 text-center text-2xl font-bold bg-purple-600 text-white border-4 border-cyan-400 rounded-2xl shadow-2xl placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-cyan-400 transition-all"
                placeholder="Team Name"
                maxlength="60"
            />
            
            <div class="text-right text-purple-200 text-sm">
                <span id="charCount">0</span>/60
            </div>

            <button
                id="submitTeamBtn"
                class="w-full h-16 text-2xl font-bold rounded-2xl border-4 border-yellow-400 shadow-2xl transition-all transform bg-gray-600 text-gray-300 cursor-not-allowed opacity-50"
                disabled
            >
                SUBMIT
            </button>
        </div>
    </div>

    <!-- Dashboard Screen -->
    <div id="dashboardScreen" class="min-h-screen flex-col p-6" style="display: none;">
        <!-- Header -->
        <div class="text-center mb-6">
            <img 
                src="./public/logo.png" 
                alt="Buzz Game Logo" 
                class="logo-preserve max-w-20 max-h-20 mx-auto mb-2 rounded-xl shadow-xl"
                onerror="this.style.display='none'"
            />
            <h1 class="text-2xl font-bold text-white">TEAM DASHBOARD</h1>
        </div>

        <!-- Team Info Box -->
        <div class="bg-purple-700 border-4 border-yellow-400 rounded-2xl p-4 mb-6 shadow-2xl">
            <div class="text-center">
                <h2 id="teamNameDisplay" class="text-xl font-bold text-white mb-1">‚≠êÔ∏è Team Name ‚≠êÔ∏è</h2>
                <p class="text-purple-100 text-lg mb-3 font-bold">ARE HERE TO PLAY! üéâ</p>
                <div class="flex space-x-2">
                    <button
                        id="changeNameBtn"
                        class="flex-1 bg-blue-600 text-white font-bold py-2 px-3 rounded-lg border-2 border-blue-400 shadow-lg hover:scale-95 hover:shadow-xl hover:bg-blue-500 transition-all transform active:scale-90 text-sm"
                    >
                        CHG NAME
                    </button>
                    <button
                        id="exitGameBtn"
                        class="flex-1 text-white font-bold py-2 px-3 rounded-lg border-2 shadow-lg hover:scale-95 hover:shadow-xl transition-all transform active:scale-90 text-sm"
                        style="background-color: #cb0cea; border-color: #cb0cea;"
                    >
                        EXIT
                    </button>
                </div>
            </div>
        </div>

        <!-- Giant 3D Buzzer Button -->
        <div class="flex-1 flex items-center justify-center mb-6">
            <button
                id="buzzerBtn"
                class="buzzer-normal w-80 h-80 rounded-full text-center font-bold p-1 bg-yellow-400 text-blue-900"
                style="box-shadow: inset 0 -8px 0 rgba(0,0,0,0.2), 0 8px 20px rgba(0,0,0,0.3);"
            >
                <div class="flex flex-col items-center justify-center h-full">
                    <div class="text-2xl leading-tight mb-1">GET READY TO</div>
                    <div class="text-2xl leading-tight mb-2">GET IN THE GAME!</div>
                    <div class="text-4xl">üö® BUZZ IN üö®</div>
                </div>
            </button>
        </div>

        <!-- Bottom Button -->
        <button class="w-full bg-violet-700 text-white font-bold py-2 px-4 rounded-2xl border-4 border-yellow-400 shadow-2xl hover:scale-95 hover:shadow-xl hover:bg-violet-600 transition-all transform active:scale-90 text-xl">
            üíé JOIN FREQUENT FUN PROGRAM üíé
        </button>
    </div>
</div>

<script>
    // Game state
    let currentScreen = 'entry';
    let gameCode = '';
    let teamName = '';
    let isBuzzed = false;

    // Sparkle effect
    function createSparkle() {
        const shapes = ['‚ú¶', '‚Ä¢', '¬∑', '*', '‚úß', '‚ãÜ', '‚ó¶'];
        const sparklesContainer = document.getElementById('sparkles');
        
        for(let i = 0; i < 3; i++) {
            setTimeout(() => {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.position = 'absolute';
                sparkle.style.left = (Math.random() * 90 + 5) + '%';
                sparkle.style.top = (Math.random() * 90 + 5) + '%';
                sparkle.style.color = 'white';
                sparkle.style.fontSize = (Math.random() < 0.4 ? 6 : Math.random() < 0.7 ? 10 : 14) + 'px';
                sparkle.style.textShadow = '0 0 4px rgba(255,255,255,0.8)';
                sparkle.textContent = shapes[Math.floor(Math.random() * shapes.length)];
                
                sparklesContainer.appendChild(sparkle);
                
                setTimeout(() => {
                    sparkle.remove();
                }, 250);
            }, i * 50);
        }
    }

    setInterval(createSparkle, 100);

    // Screen management
    function showScreen(screen) {
        document.getElementById('entryScreen').style.display = 'none';
        document.getElementById('teamSetupScreen').style.display = 'none';
        document.getElementById('dashboardScreen').style.display = 'none';
        
        if (screen === 'entry') {
            document.getElementById('entryScreen').style.display = 'flex';
        } else if (screen === 'teamSetup') {
            document.getElementById('teamSetupScreen').style.display = 'flex';
        } else if (screen === 'dashboard') {
            document.getElementById('dashboardScreen').style.display = 'flex';
        }
        
        currentScreen = screen;
    }

    // Game code input
    document.getElementById('gameCodeInput').addEventListener('input', function(e) {
        const value = e.target.value.toUpperCase().slice(0, 6);
        e.target.value = value;
        gameCode = value;
        
        const joinBtn = document.getElementById('joinGameBtn');
        if (value.length === 6) {
            joinBtn.disabled = false;
            joinBtn.className = 'w-full h-16 text-2xl font-bold rounded-2xl border-4 border-yellow-400 shadow-2xl transition-all transform bg-cyan-400 text-blue-900 hover:scale-95 hover:shadow-xl hover:bg-cyan-300 active:scale-90';
        } else {
            joinBtn.disabled = true;
            joinBtn.className = 'w-full h-16 text-2xl font-bold rounded-2xl border-4 border-yellow-400 shadow-2xl transition-all transform bg-gray-600 text-gray-300 cursor-not-allowed opacity-50';
        }
    });

    // Join game
    document.getElementById('joinGameBtn').addEventListener('click', function() {
        if (gameCode.length === 6) {
            showScreen('teamSetup');
        }
    });

    // Team name input
    document.getElementById('teamNameInput').addEventListener('input', function(e) {
        const value = e.target.value.slice(0, 60);
        e.target.value = value;
        teamName = value;
        
        document.getElementById('charCount').textContent = value.length;
        
        const submitBtn = document.getElementById('submitTeamBtn');
        if (value.trim()) {
            submitBtn.disabled = false;
            submitBtn.className = 'w-full h-16 text-2xl font-bold rounded-2xl border-4 border-yellow-400 shadow-2xl transition-all transform bg-cyan-400 text-blue-900 hover:scale-95 hover:shadow-xl hover:bg-cyan-300 active:scale-90';
        } else {
            submitBtn.disabled = true;
            submitBtn.className = 'w-full h-16 text-2xl font-bold rounded-2xl border-4 border-yellow-400 shadow-2xl transition-all transform bg-gray-600 text-gray-300 cursor-not-allowed opacity-50';
        }
    });

    // Submit team
    document.getElementById('submitTeamBtn').addEventListener('click', function() {
        if (teamName.trim()) {
            document.getElementById('teamNameDisplay').textContent = `‚≠êÔ∏è ${teamName} ‚≠êÔ∏è`;
            showScreen('dashboard');
        }
    });

    // Buzzer functionality
    const buzzerBtn = document.getElementById('buzzerBtn');
    
    buzzerBtn.addEventListener('mouseenter', function() {
        if (!isBuzzed) {
            this.classList.remove('buzzer-normal');
            this.classList.add('buzzer-hover');
        }
    });

    buzzerBtn.addEventListener('mouseleave', function() {
        if (!isBuzzed) {
            this.classList.remove('buzzer-hover');
            this.classList.add('buzzer-away');
            setTimeout(() => {
                this.classList.remove('buzzer-away');
                this.classList.add('buzzer-normal');
            }, 200);
        }
    });

    buzzerBtn.addEventListener('click', function() {
        if (!isBuzzed) {
            isBuzzed = true;
            this.className = 'w-80 h-80 rounded-full text-center font-bold p-1 bg-green-500 text-white';
            this.style.boxShadow = 'inset 0 8px 0 rgba(255,255,255,0.2), 0 4px 10px rgba(0,0,0,0.3)';
            this.innerHTML = `
                <div class="flex flex-col items-center justify-center h-full">
                    <div class="text-3xl mb-2">üî• YOU'RE IN! üî•</div>
                    <div class="text-lg leading-tight">WAIT FOR HOST TO CALL ON YOU</div>
                </div>
            `;
            
            // Play buzz sound
            try {
                new Audio('./public/buzzer.mp3').play().catch(() => {});
            } catch (e) {}
        }
    });

    // Change name
    document.getElementById('changeNameBtn').addEventListener('click', function() {
        isBuzzed = false;
        showScreen('teamSetup');
    });

    // Exit game
    document.getElementById('exitGameBtn').addEventListener('click', function() {
        gameCode = '';
        teamName = '';
        isBuzzed = false;
        document.getElementById('gameCodeInput').value = '';
        document.getElementById('teamNameInput').value = '';
        document.getElementById('charCount').textContent = '0';
        showScreen('entry');
    });
</script>

</body>
</html>
