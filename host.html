<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Host Dashboard - Buzzer Game</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@keyframes quickFlash {
0% { opacity: 0; transform: scale(0.2); }
35% { opacity: 1; transform: scale(1.1); }
100% { opacity: 0; transform: scale(0.5); }
}

@keyframes pulse-glow {
0%, 100% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.3); }
50% { box-shadow: 0 0 30px rgba(255, 255, 255, 0.6), 0 0 40px rgba(34, 197, 94, 0.4); }
}

.sparkle {
animation: quickFlash 0.25s ease-out;
pointer-events: none;
}

.logo-glow {
filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
}

.game-code-glow {
animation: pulse-glow 2s ease-in-out infinite;
}

body {
background: linear-gradient(135deg, #1e3a8a 0%, #312e81 50%, #1e1b4b 100%);
margin: 0;
font-family: 'Inter', system-ui, -apple-system, sans-serif;
}
</style>
</head>
<body>
<div id="app" class="relative min-h-screen w-full max-w-md mx-auto overflow-hidden">
<!-- Sparkles Container -->
<div id="sparkles"></div>

<!-- Main Content -->
<div class="relative z-10 p-4 space-y-4">
<!-- Header Section -->
<div class="text-center">
<!-- Logo SVG -->
<div class="logo-glow max-w-16 max-h-16 mx-auto mb-2 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl shadow-2xl p-2">
<svg viewBox="0 0 100 100" class="w-full h-full text-white">
<circle cx="50" cy="50" r="35" fill="currentColor"/>
<path d="M35 40 L50 25 L65 40 L50 55 Z" fill="#1e3a8a"/>
<circle cx="50" cy="50" r="8" fill="#fbbf24"/>
<text x="50" y="85" text-anchor="middle" fill="currentColor" font-size="12" font-weight="bold">BUZZ</text>
</svg>
</div>

<h1 class="text-xl font-bold text-white mb-3 tracking-wider">ğŸ¯ HOST DASHBOARD ğŸ¯</h1>

<!-- Game Code Display -->
<div id="gameCodeSection" style="display: none;">
<div class="bg-gradient-to-r from-purple-800 to-purple-900 border-4 border-yellow-400 rounded-xl p-4 mb-3 game-code-glow">
<div class="text-yellow-400 font-bold text-sm mb-1">ğŸ® GAME CODE ğŸ®</div>
<div id="gameCodeDisplay" class="text-white font-bold text-4xl tracking-widest font-mono">------</div>
</div>
</div>

<!-- Create Game Button -->
<div id="createGameSection">
<button
id="createGameBtn"
class="w-full py-4 px-4 text-lg font-bold rounded-xl border-4 border-yellow-400 shadow-2xl transition-all transform bg-gradient-to-r from-cyan-400 to-blue-500 text-white hover:scale-95 hover:shadow-xl hover:from-cyan-300 hover:to-blue-400 active:scale-90"
>
ğŸš€ CREATE NEW GAME ğŸš€
</button>
</div>
</div>

<!-- Game Active Sections -->
<div id="gameActiveSections" style="display: none;">
<!-- Buzzed In Section -->
<div class="bg-gradient-to-r from-purple-800 to-purple-900 border-4 border-yellow-400 rounded-xl p-4 shadow-2xl">
<div class="flex justify-between items-center mb-3">
<h2 class="text-yellow-400 font-bold text-lg">âš¡ BUZZED IN âš¡</h2>
<button
id="clearAllBtn"
class="bg-gradient-to-r from-red-600 to-red-700 text-white font-bold py-2 px-4 rounded-lg text-sm hover:scale-95 hover:from-red-500 hover:to-red-600 transition-all transform active:scale-90 shadow-lg border-2 border-red-400"
>
ğŸ§¹ CLEAR ALL
</button>
</div>
<div id="buzzedTeamsList">
<div class="text-purple-200 text-center py-4 italic">No teams buzzed in yet...</div>
</div>
</div>

<!-- All Teams Section -->
<div class="bg-gradient-to-r from-purple-800 to-purple-900 border-4 border-yellow-400 rounded-xl p-4 shadow-2xl">
<h2 class="text-yellow-400 font-bold text-lg mb-3">ğŸ‘¥ ALL TEAMS (<span id="teamCount">0</span>) ğŸ‘¥</h2>
<div id="allTeamsList">
<div class="text-purple-200 text-center py-4 italic">No teams joined yet...</div>
</div>
</div>

<!-- Scoring Section -->
<div class="bg-gradient-to-r from-purple-800 to-purple-900 border-4 border-yellow-400 rounded-xl p-4 shadow-2xl">
<h2 class="text-yellow-400 font-bold text-lg mb-3">ğŸ† SCORING ğŸ†</h2>
<div id="scoringList" class="space-y-2 max-h-64 overflow-y-auto">
<div class="text-purple-200 text-center py-4 italic">No teams to score yet...</div>
</div>

<!-- Dramatic Reading Order -->
<div id="dramaticReadingSection" style="display: none;" class="mt-4 pt-4 border-t-2 border-yellow-400">
<h3 class="text-yellow-400 font-bold text-sm mb-2">ğŸ­ DRAMATIC READING ORDER ğŸ­</h3>
<div id="dramaticReadingList" class="space-y-1"></div>
</div>

<button
id="revealScoresBtn"
class="w-full mt-4 py-3 px-4 text-lg font-bold rounded-xl border-4 border-yellow-400 shadow-2xl transition-all transform bg-gradient-to-r from-yellow-400 to-orange-500 text-blue-900 hover:scale-95 hover:shadow-xl hover:from-yellow-300 hover:to-orange-400 active:scale-90"
style="display: none;"
>
ğŸ† REVEAL SCORES ğŸ†
</button>
</div>

<!-- Game Control -->
<div class="pt-4">
<button
id="endGameBtn"
class="w-full bg-gradient-to-r from-red-600 to-red-700 text-white font-bold py-3 px-4 rounded-xl border-4 border-red-400 shadow-2xl hover:scale-95 hover:shadow-xl hover:from-red-500 hover:to-red-600 transition-all transform active:scale-90"
>
ğŸ›‘ END GAME ğŸ›‘
</button>
</div>
</div>
</div>
</div>

<script>
// Game state
let gameActive = false;
let gameCode = '';
let allTeams = [];
let buzzedTeams = [];
let scores = {};
let scoresRevealed = false;

// Mock teams for demo
const mockTeams = [
{ id: 1, name: 'Lightning Bolts âš¡', buzzedAt: null },
{ id: 2, name: 'Thunder Squad ğŸŒ©ï¸', buzzedAt: Date.now() - 2000 },
{ id: 3, name: 'Storm Chasers ğŸŒªï¸', buzzedAt: null },
{ id: 4, name: 'Power Rangers ğŸ’ª', buzzedAt: Date.now() - 1000 },
{ id: 5, name: 'Game Masters ğŸ¯', buzzedAt: Date.now() - 3000 }
];

// Enhanced sparkle effect
function createSparkle() {
const shapes = ['âœ¦', 'â­', 'ğŸ’«', 'âœ¨', 'âš¡', 'ğŸŒŸ', 'ğŸ’'];
const sparklesContainer = document.getElementById('sparkles');

for(let i = 0; i < 3; i++) {
setTimeout(() => {
const sparkle = document.createElement('div');
sparkle.className = 'sparkle';
sparkle.style.position = 'absolute';
sparkle.style.left = (Math.random() * 90 + 5) + '%';
sparkle.style.top = (Math.random() * 90 + 5) + '%';
sparkle.style.color = ['#fbbf24', '#34d399', '#60a5fa', '#a78bfa'][Math.floor(Math.random() * 4)];
sparkle.style.fontSize = (Math.random() < 0.4 ? 8 : Math.random() < 0.7 ? 12 : 16) + 'px';
sparkle.style.textShadow = '0 0 6px rgba(255,255,255,0.8)';
sparkle.textContent = shapes[Math.floor(Math.random() * shapes.length)];
sparkle.style.zIndex = '5';
sparklesContainer.appendChild(sparkle);

setTimeout(() => {
sparkle.remove();
}, 250);
}, i * 75);
}
}

setInterval(createSparkle, 200);

// Generate secure 6-digit game code
function generateGameCode() {
return Math.floor(100000 + Math.random() * 900000).toString();
}

// Update displays with enhanced styling
function updateAllTeamsDisplay() {
const container = document.getElementById('allTeamsList');
const teamCount = document.getElementById('teamCount');
teamCount.textContent = allTeams.length;

if (allTeams.length === 0) {
container.innerHTML = '<div class="text-purple-200 text-center py-4 italic">No teams joined yet...</div>';
return;
}

const sortedTeams = [...allTeams].sort((a, b) => a.name.localeCompare(b.name));
container.innerHTML = sortedTeams.map(team => `
<div class="p-3 rounded-lg font-bold mb-2 transition-all ${team.buzzedAt ? 
'bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg transform scale-105' : 
'bg-gradient-to-r from-violet-600 to-purple-700 text-purple-100 hover:scale-102'} shadow-md">
<div class="flex items-center justify-between">
<span>${team.name}</span>
${team.buzzedAt ? '<span class="text-xs animate-pulse">ğŸš¨ BUZZED</span>' : ''}
</div>
</div>
`).join('');
}

function updateBuzzedTeamsDisplay() {
const container = document.getElementById('buzzedTeamsList');

if (buzzedTeams.length === 0) {
container.innerHTML = '<div class="text-purple-200 text-center py-4 italic">No teams buzzed in yet...</div>';
return;
}

container.innerHTML = buzzedTeams.map((team, index) => `
<div class="flex items-center justify-between bg-gradient-to-r from-green-600 to-green-700 text-white p-3 rounded-lg mb-2 shadow-lg transform hover:scale-102 transition-all">
<div class="flex items-center space-x-3">
<span class="bg-white text-green-600 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shadow-inner">
${index + 1}
</span>
<span class="font-bold">${team.name}</span>
</div>
<button
onclick="clearBuzzer(${team.id})"
class="bg-gradient-to-r from-red-500 to-red-600 text-white px-3 py-1 rounded-lg text-xs hover:from-red-400 hover:to-red-500 transition-all transform hover:scale-95 active:scale-90 font-bold border border-red-400"
>
âŒ CLEAR
</button>
</div>
`).join('');
}

function updateScoringDisplay() {
const container = document.getElementById('scoringList');
const revealBtn = document.getElementById('revealScoresBtn');
const dramaticSection = document.getElementById('dramaticReadingSection');

if (allTeams.length === 0) {
container.innerHTML = '<div class="text-purple-200 text-center py-4 italic">No teams to score yet...</div>';
revealBtn.style.display = 'none';
return;
}

const sortedTeams = [...allTeams].sort((a, b) => a.name.localeCompare(b.name));
container.innerHTML = sortedTeams.map(team => `
<div class="flex items-center space-x-3 mb-3 p-2 bg-purple-700 rounded-lg">
<div class="flex-1 text-white font-bold text-sm truncate">
${team.name}
</div>
<input
type="number"
id="score_${team.id}"
value="${scores[team.id] || ''}"
onchange="updateScore(${team.id}, this.value)"
class="w-20 h-10 text-center font-bold bg-gradient-to-r from-violet-600 to-purple-700 text-white border-2 border-yellow-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"
placeholder="0"
/>
</div>
`).join('');

// Check if any scores entered
const hasScores = Object.values(scores).some(score => score !== '');
if (hasScores) {
revealBtn.style.display = 'block';
dramaticSection.style.display = 'block';

// Update dramatic reading order
const teamsWithScores = allTeams.map(team => ({
...team,
score: parseInt(scores[team.id]) || 0
})).sort((a, b) => a.score - b.score);

document.getElementById('dramaticReadingList').innerHTML = teamsWithScores.map(team => `
<div class="flex justify-between text-white text-sm bg-purple-600 p-2 rounded">
<span>${team.name}</span>
<span class="font-bold text-yellow-400">${team.score}</span>
</div>
`).join('');
} else {
revealBtn.style.display = 'none';
dramaticSection.style.display = 'none';
}
}

// Event handlers
function updateScore(teamId, score) {
scores[teamId] = score;
updateScoringDisplay();
}

function clearBuzzer(teamId) {
buzzedTeams = buzzedTeams.filter(team => team.id !== teamId);
allTeams = allTeams.map(team =>
team.id === teamId ? { ...team, buzzedAt: null } : team
);
updateBuzzedTeamsDisplay();
updateAllTeamsDisplay();
}

// Create new game
document.getElementById('createGameBtn').addEventListener('click', function() {
gameCode = generateGameCode();
gameActive = true;

// Load mock data for demo
allTeams = [...mockTeams];
buzzedTeams = mockTeams
.filter(team => team.buzzedAt)
.sort((a, b) => a.buzzedAt - b.buzzedAt);

// Initialize scores
scores = {};
allTeams.forEach(team => {
scores[team.id] = '';
});

scoresRevealed = false;

// Update UI
document.getElementById('gameCodeDisplay').textContent = gameCode;
document.getElementById('createGameSection').style.display = 'none';
document.getElementById('gameCodeSection').style.display = 'block';
document.getElementById('gameActiveSections').style.display = 'block';

updateAllTeamsDisplay();
updateBuzzedTeamsDisplay();
updateScoringDisplay();
});

// Clear all buzzers
document.getElementById('clearAllBtn').addEventListener('click', function() {
buzzedTeams = [];
allTeams = allTeams.map(team => ({ ...team, buzzedAt: null }));
updateBuzzedTeamsDisplay();
updateAllTeamsDisplay();
});

// Reveal scores
document.getElementById('revealScoresBtn').addEventListener('click', function() {
scoresRevealed = true;
this.textContent = 'ğŸ‰ SCORES REVEALED! ğŸ‰';
this.className = 'w-full mt-4 py-3 px-4 text-lg font-bold rounded-xl border-4 border-yellow-400 shadow-2xl cursor-default bg-gradient-to-r from-green-600 to-green-700 text-white';
});

// End game
document.getElementById('endGameBtn').addEventListener('click', function() {
if (confirm('Are you sure you want to end this game? This will disconnect all players.')) {
gameActive = false;
gameCode = '';
allTeams = [];
buzzedTeams = [];
scores = {};
scoresRevealed = false;

// Reset UI
document.getElementById('createGameSection').style.display = 'block';
document.getElementById('gameCodeSection').style.display = 'none';
document.getElementById('gameActiveSections').style.display = 'none';
}
});
</script>
</body>
</html>
